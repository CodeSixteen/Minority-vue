(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48f4dc18"],{"01e2":function(t,e,n){},"059c":function(t,e,n){"use strict";var s=n("e5cf"),i=n.n(s);i.a},"0ff7":function(t,e,n){},2921:function(t,e,n){"use strict";var s=n("da60"),i=n.n(s);i.a},"3cc1":function(t,e,n){},"495d":function(t,e,n){"use strict";var s=n("0ff7"),i=n.n(s);i.a},"592c":function(t,e,n){"use strict";var s=n("3cc1"),i=n.n(s);i.a},6762:function(t,e,n){"use strict";var s=n("5ca1"),i=n("c366")(!0);s(s.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"7be7":function(t,e,n){"use strict";var s=n("01e2"),i=n.n(s);i.a},"7c6e":function(t,e,n){},"92e9":function(t,e,n){"use strict";var s=n("7c6e"),i=n.n(s);i.a},"9fc0":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("TopNav",{staticClass:"top-nav",scopedSlots:t._u([{key:"left",fn:function(){return[s("div",{staticClass:"left-nav-container"},[s("router-link",{attrs:{to:"/"}},[s("a",{staticClass:"logo"},[s("span",{staticClass:"logo-icon"}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.changeNav,expression:"!changeNav"}],staticClass:"logo-title"},[t._v("少数派")])])])],1)]},proxy:!0},{key:"center",fn:function(){return[s("ul",{directives:[{name:"show",rawName:"v-show",value:!t.changeNav,expression:"!changeNav"}],staticClass:"center-nav-lists"},[s("li",{staticClass:"nav-list-item"},[s("img",{attrs:{src:n("39b9")}}),s("span",[t._v("Matrix")])]),s("li",{staticClass:"nav-list-item"},[s("img",{attrs:{src:n("b399")}}),s("span",[t._v("付费订阅")])]),s("li",{staticClass:"nav-list-item"},[s("img",{attrs:{src:n("afcb")}}),s("span",[t._v("特别策划")])]),s("li",{staticClass:"nav-list-item"},[s("img",{attrs:{src:n("bee7")}}),s("span",[t._v("Pi Store")])]),s("li",{staticClass:"nav-list-item tron"},[s("img",{attrs:{src:n("df5c")}}),s("span",[t._v("Tron 计划")]),s("div",{staticClass:"tron-box"},[s("a",{staticClass:"tron-link",attrs:{href:"javascript:0"}},[t._v("加入Tron 计划")]),s("a",{staticClass:"tron-link",attrs:{href:"javascript:0"}},[s("img",{attrs:{src:n("b365"),alt:""}})])])])])]},proxy:!0},{key:"right",fn:function(){return[s("div",{staticClass:"right-nav-container"},[s("i",{staticClass:"iconfont",class:t.iconStyle,on:{click:t.showSearchInput}}),s("Search",{directives:[{name:"show",rawName:"v-show",value:t.isShowSearch,expression:"isShowSearch"}],staticClass:"home-search",on:{hideSearch:t.hideSearch}}),t.isLoginSuc?s("NavUser"):s("div",{staticClass:"home-nav-login",class:{"login-btn-black":t.changeNav},on:{click:t.clickLogin}},[t._v("登录")])],1)]},proxy:!0}])})],1)},i=[],a=n("2ff7"),o=n("b7d8"),c=n("2633"),r={name:"PostNav",data:function(){return{isShowSearch:!1,navLists:["推荐","最热","应用推荐","生活方式","Power+"]}},components:{TopNav:a["a"],Search:o["a"],NavUser:c["a"]},created:function(){localStorage.getItem("username")&&(this.$store.state.isLoginSuc=!0)},methods:{showSearchInput:function(){this.isShowSearch=!this.isShowSearch},clickLogin:function(){this.$store.state.isShowLogin=!0,this.isShowSearch=!1},hideSearch:function(){this.isShowSearch=!1}},computed:{changeNav:function(){return this.$store.state.changeNav},iconStyle:function(){var t=this.isShowSearch?"icon-guanbi":"icon-search",e=this.changeNav?" icon-color":"";return t+e},isLoginSuc:function(){return this.$store.state.isLoginSuc}}},l=r,m=(n("aa9e"),n("2877")),u=Object(m["a"])(l,s,i,!1,null,"7c86ecf6",null);e["a"]=u.exports},aa9e:function(t,e,n){"use strict";var s=n("ff8f"),i=n.n(s);i.a},da60:function(t,e,n){},e5cf:function(t,e,n){},fb13:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.colseComment}},[n("PostMain",{scopedSlots:t._u([{key:"top",fn:function(){return[n("PostBanner",{attrs:{banner:t.banner,title:t.title,head_img:t.head_img,author:t.author,created_time:t.created_time}})]},proxy:!0},{key:"center",fn:function(){return[n("PostCenter",{attrs:{content:t.content,head_img:t.head_img,author:t.author,view:t.view,comment:t.comment,like_number:t.like_number},on:{userClickZan:t.reqNewData}})]},proxy:!0}])}),n("Comment",{attrs:{isShowRe:t.isShowRe},on:{showRe:t.showRe,reqNewData:t.reqNewData,commentCount:t.commentCount}}),n("recommend"),n("Postbottom"),n("goTop",{staticClass:"go-top-component"}),n("PostNav"),n("p",[t._v(t._s(t.b))])],1)},i=[],a=(n("ac6a"),n("6762"),n("6b54"),n("a481"),n("9fc0")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-main"},[n("div",{staticClass:"post-main-top"},[t._t("top")],2),n("div",{staticClass:"post-main-center"},[t._t("center")],2)])},c=[],r={name:"PostMain"},l=r,m=(n("059c"),n("2877")),u=Object(m["a"])(l,o,c,!1,null,"157e051e",null),d=u.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center post-banner"},[n("div",{staticClass:"bgbox"}),n("div",{staticClass:"post-banner-content"},[n("img",{staticClass:"post-banner-img",attrs:{src:t.banner}}),n("h2",[t._v(t._s(t.title))]),n("div",{staticClass:"post-banner-info flex-between"},[n("div",{staticClass:"info-left"},[n("img",{attrs:{src:t.head_img}}),n("span",{staticClass:"author"},[t._v(t._s(t.author))])]),n("div",{staticClass:"info-right"},[t._v(t._s(t.created_time))])])])])},f=[],v={name:"PostBanner",props:{banner:{type:String,default:""},title:{type:String,default:""},head_img:{type:String,default:""},author:{type:String,default:""},created_time:{type:String,default:""}}},_=v,p=(n("7be7"),Object(m["a"])(_,h,f,!1,null,"0a30df38",null)),C=p.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center post-center"},[n("div",{ref:"postcontent",staticClass:"post-article-content wangEditor-text",domProps:{innerHTML:t._s(t.content)}}),n("div",{ref:"postleft",staticClass:"post-center-left flex-column-center"},[n("i",{staticClass:"iconfont icon-chongdian center",class:{like_active:t.likeArt.includes(t.article_id)},on:{click:t.likeArticle}}),n("span",[t._v(t._s(t.like_number))]),n("i",{staticClass:"iconfont icon-liuyan",on:{click:t.toComment}}),n("span",[t._v(t._s(t.comment))]),n("i",{staticClass:"iconfont icon-share"})]),n("div",{staticStyle:{width:"100%",height:"1px","background-color":"#eee","max-width":"750px"}}),n("div",{staticClass:"content-bottom"},[n("div",{staticClass:"info-left"},[n("img",{attrs:{src:t.head_img}}),n("span",{staticClass:"author"},[t._v(t._s(t.author))]),n("span",{staticClass:"attention-btn"},[t._v("关注")])])])])},b=[],w=(n("c5f6"),{name:"PostCenter",props:{content:{type:String,default:"<pre>          </pre>"},author:{type:String,default:""},view:{type:Number,default:0},comment:{type:Number,default:0},head_img:{type:String,default:""},like_number:{type:Number,default:0}},data:function(){return{likeArt:[],article_id:0}},created:function(){this.article_id=this.$route.params.id,localStorage.getItem("phoneNumber")},mounted:function(){window.addEventListener("scroll",this.fixedLeft,!1)},methods:{fixedLeft:function(){var t=document.documentElement.clientHeight/2,e=this.$refs.postcontent,n=this.$refs.postleft,s=e.getBoundingClientRect(),i=s.top,a=s.height,o=s.bottom,c=n.getBoundingClientRect().height;t>=i+c/2?(n.style.position="fixed",n.style.top=t-c/2+"px"):t<i+c/2&&(n.style.position="absolute",n.style.top="0px"),a>2*t&&o<=t+c/2&&(n.style.position="absolute",n.style.top=a-c+"px")},toComment:function(){var t=document.querySelector(".post-main").getBoundingClientRect().height,e=document.documentElement,n=document.body,s=setInterval((function(){var i=e.scrollTop||n.scrollTop,a=Math.floor((t-i)/8);e.scrollTop=n.scrollTop=i+a,0==a&&(e.scrollTop=n.scrollTop=t,clearInterval(s))}),5)},likeArticle:function(){}},destroyed:function(){document.documentElement.scrollTop=0,window.removeEventListener("scroll",this.fixedLeft)}}),k=w,x=(n("92e9"),Object(m["a"])(k,g,b,!1,null,"57d6bf34",null)),S=x.exports,y=n("8bbb"),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center"},[n("div",{staticClass:"post-rec"},[n("h3",[t._v("推荐阅读")]),n("ul",{staticClass:"recommend-list"},t._l(t.recommentedList,(function(e,s){return n("li",{key:s,on:{click:function(n){return t.toX(e.id)}}},[n("div",{staticClass:"li-list-img"},[n("img",{attrs:{src:e.list_img_src}})]),n("h3",[t._v(t._s(e.title))]),n("div",{staticClass:"article-author-info"},[n("div",{staticClass:"left"},[n("img",{staticClass:"author-header-img",attrs:{src:e.headerImg}}),n("span",{staticClass:"author-username"},[t._v(t._s(e.author))])]),n("div",{staticClass:"right"},[n("span",{staticClass:"article-view"},[n("i",{staticClass:"iconfont icon-like"}),t._v("\n              "+t._s(e.view)+"\n            ")])])])])})),0)])])},L=[],$=n("dc07"),j={name:"recommend",data:function(){return{recommentedList:[]}},created:function(){this.reqData()},methods:{reqData:function(){var t=Object($["b"])("推荐");this.recommentedList=t.slice(3,9)},toX:function(t){var e=this.$router.resolve({path:"/articledetails/".concat(t)}),n=e.href;window.open(n,"_blank")}}},P=j,E=(n("495d"),Object(m["a"])(P,N,L,!1,null,"6098b46d",null)),I=E.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-bottom"},[n("div",{staticClass:"post-bottom-main flex-between"},[n("div",{staticClass:"left"},[t._m(0),n("Blogroll"),n("p",{staticClass:"copyright"},[t._v("© 2013-2019 少数派 | 粤ICP备09128966号-4 | CC BY-NC 4.0")])],1),t._m(1)])])},q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-logo"},[n("span",{staticClass:"logo-icon"}),n("span",{staticClass:"logo-title"},[t._v("少数派")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right"},[n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("关于我们")]),n("a",{attrs:{href:"javascript:0"}},[t._v("联系我们")])]),n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("成为作者")]),n("a",{attrs:{href:"javascript:0"}},[t._v("常见问题")])]),n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("用户协议")]),n("a",{attrs:{href:"javascript:0"}},[t._v("客户端")])])])}],O=n("f516"),R={name:"Postbottom",components:{Blogroll:O["a"]}},A=R,B=(n("2921"),Object(m["a"])(A,T,q,!1,null,"562dadaa",null)),D=B.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center"},[n("div",{staticClass:"comment-comtainer"},[n("div",{staticClass:"comment-title"},[t._v("全部评论（"+t._s(t.commentCount)+"）")]),n("div",{staticClass:"comment-input"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:t.headImg}})]),n("div",{staticClass:"right"},[t.isShowRe?t._e():n("input",{staticClass:"write-comment",attrs:{type:"text",placeholder:"写下你的评论"},on:{focus:t.writeComment}}),t.isShowRe?n("div",[n("p",{staticClass:"user-name"},[t._v(t._s(t.username))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(e){return t.subComment()}}},[t._v("评论")])])]):t._e()])]),t.isNo?n("div",{staticClass:"no-comment"},[t._v("还没有评论哦~")]):t._e(),n("ul",{staticClass:"comment-ul"},t._l(t.commentList,(function(e,s){return n("div",{key:s,staticClass:"comment-item"},[n("li",{staticClass:"comment-li"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:e.head_img}})]),n("div",{staticClass:"right"},[n("p",{staticClass:"user-name"},[t._v(t._s(e.username))]),n("p",{staticClass:"comment-created-time"},[t._v(t._s(e.created_time))]),n("p",{staticClass:"comment-content",domProps:{innerHTML:t._s(e.content)}}),n("div",{staticClass:"comment-icon"},[n("i",{staticClass:"iconfont icon-liuyan",on:{click:function(n){return t.showTexterea(e.created_time)}}}),n("span",{staticClass:"amount"},[t._v(t._s(e.reply_num))]),t.likeList.includes(e.id.toString())?n("i",{staticClass:"iconfont icon-xin",on:{click:function(n){return t.cancleClickZan(e.id)}}}):n("i",{staticClass:"iconfont icon-like",on:{click:function(n){return t.clickZan(e.id)}}}),n("span",{staticClass:"amount"},[t._v(t._s(e.like_number))])]),n("div",{staticClass:"texterea-container",attrs:{"data-index":e.created_time}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(n){return t.subComment(e.id)}}},[t._v("评论")])])]),n("ul",{staticClass:"user-reply"},t._l(e.re_comment,(function(s,i){return n("li",{key:i,staticClass:"comment-li"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:s.head_img}})]),n("div",{staticClass:"right"},[n("p",{staticClass:"user-name"},[t._v("\n                    "+t._s(s.username)+"\n                    "),s.re_username?n("span",{staticClass:"reply-username"},[t._v("回复 "+t._s(s.re_username))]):t._e()]),n("p",{staticClass:"comment-created-time"},[t._v(t._s(s.created_time))]),n("p",{staticClass:"comment-content",domProps:{innerHTML:t._s(s.content)}}),n("div",{staticClass:"comment-icon"},[n("i",{staticClass:"iconfont icon-liuyan",on:{click:function(e){return t.showTexterea(s.created_time)}}}),n("span",{staticClass:"amount"},[t._v(t._s(s.reply_num))]),t.likeList.includes(s.id.toString())?n("i",{staticClass:"iconfont icon-xin",on:{click:function(e){return t.cancleClickZan(s.id)}}}):n("i",{staticClass:"iconfont icon-like",on:{click:function(e){return t.clickZan(s.id)}}}),n("span",{staticClass:"amount"},[t._v(t._s(s.like_number))])]),n("div",{staticClass:"texterea-container",attrs:{"data-index":s.created_time}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(n){return t.subComment(e.id,s.username,s.id)}}},[t._v("评论")])])])])])})),0)])])])})),0)])])},Z=[],U=n("ed08"),F={name:"comment",props:{isShowRe:{type:Boolean,default:!1}},data:function(){return{commentCount:0,headImg:"",username:"",commentList:[],isNo:!0,commentContent:"",likeList:[]}},created:function(){this.showUserName(),this.reqComment(),this.reqIsClickZan()},methods:{showUserName:function(){if(this.isLogin){var t=localStorage.getItem("headImg"),e=localStorage.getItem("username");t&&(this.headImg=t),e&&(this.username=e)}else this.headImg="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1571071012103&di=246bbc25cc64b3ae9e466baf1755e816&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01460b57e4a6fa0000012e7ed75e83.png%401280w_1l_2o_100sh.png"},writeComment:function(){if(this.isLogin){this.$emit("showRe",!0);var t=document.querySelectorAll(".texterea-container");t.forEach((function(t){t.style.display="none"}))}else this.$store.state.isShowLogin=!0},reqComment:function(){var t=this,e=this.$route.params.id,n=Object($["c"])(e),s=[];n.length&&n.forEach((function(t){if(0===t.re_comment_id){var e={};e.id=t.id,e.article_id=t.article_id,e.user_id=t.user_id,e.username=Object($["e"])(t.user_id).username,e.head_img=Object($["e"])(t.user_id).headerImg,e.content=t.comment_content,e.created_time=Object(U["a"])(t.created_time),e.like_number=t.like_number,e.reply_num=t.reply_num,e.re_comment=[],s.unshift(e)}else s.forEach((function(e){if(e.id===t.re_comment_id){var n={};n.id=t.id,n.article_id=t.article_id,n.user_id=t.user_id,n.head_img=Object($["e"])(t.user_id).headerImg,n.username=Object($["e"])(t.user_id).username,n.created_time=Object(U["a"])(t.created_time),n.content=t.comment_content,n.reply_num=t.reply_num,n.like_number=t.like_number,"0"==t.re_username?n.re_username="":n.re_username=t.re_username,e.re_comment.push(n)}}))})),this.commentList=s,this.commentCount=s.length,s.length>0&&s.forEach((function(e){t.commentCount=t.commentCount+e.re_comment.length})),this.$emit("commentCount",this.commentCount),n.length&&(this.isNo=!1)},subComment:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this.commentContent.trim()){var s=this.$route.params.id,i=t,a=localStorage.getItem("uid"),o=e,c=this.commentContent.replace(/\n|\r\n/g,"<br/>"),r=Object($["f"])({article_id:s,user_id:a,re_comment_id:i,re_username:o,content:c,subCommentId:n});"成功"===r.msg&&(this.reqComment(),this.commentContent="",this.$emit("showRe",!1),this.hideTextereaAll())}else this.$store.state.toastMsg="不能提交空内容！",this.$store.state.isShowPopup=!0},showTexterea:function(t){if(this.isLogin){this.$emit("showRe",!1),this.hideTextereaAll();var e=document.querySelector(".texterea-container[data-index='".concat(t,"']"));e.style.display="block"}else this.$store.state.isShowLogin=!0},hideTextereaAll:function(){var t=document.querySelectorAll(".texterea-container");t.forEach((function(t){t.style.display="none"}))},clickZan:function(t){this.isLogin||(this.$store.state.isShowLogin=!0)},reqIsClickZan:function(){},cancleClickZan:function(t){}},computed:{isLogin:function(){return this.$store.state.isLoginSuc}},watch:{isLogin:function(){this.showUserName()}}},H=F,z=(n("592c"),Object(m["a"])(H,M,Z,!1,null,"35ca3b00",null)),J=z.exports,X={name:"Post",props:["id"],components:{PostNav:a["a"],PostMain:d,PostBanner:C,PostCenter:S,goTop:y["a"],recommend:I,Postbottom:D,Comment:J},data:function(){return{isShowRe:!1,banner:"",title:"",head_img:"",author:"",created_time:"",content:"",view:1,like_number:1,comment:0}},created:function(){var t="";this.b=t.replace(/\s+/g," "),this.reqArticleData()},methods:{reqArticleData:function(){var t=this.$route.params.id,e=Object($["a"])(t);e.id?(this.created_time=Object(U["a"])(e.created_time).toString().slice(0,10),this.banner=e.banner_img_src,this.title=e.title,this.head_img=e.headerImg,this.author=e.author,this.content=e.content,this.view=e.view,this.like_number=e.like_number):this.$router.push("/")},colseComment:function(t){var e=t.target,n=["comment-input","comment-submit","file-btn","comment-textarea","iconfont icon-liuyan"],s=n.includes(e.className);if(!s){this.isShowRe=!1;var i=document.querySelectorAll(".texterea-container");i.forEach((function(t){t.style.display="none"}))}},showRe:function(t){this.isShowRe=t},reqNewData:function(){this.reqArticleData()},commentCount:function(t){this.comment=t}}},Y=X,G=Object(m["a"])(Y,s,i,!1,null,"721c08b8",null);e["default"]=G.exports},ff8f:function(t,e,n){}}]);
//# sourceMappingURL=chunk-48f4dc18.a7f224f7.js.map