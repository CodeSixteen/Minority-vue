(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67631e48"],{"01e2":function(t,e,n){},"059c":function(t,e,n){"use strict";var s=n("e5cf"),a=n.n(s);a.a},"0ff7":function(t,e,n){},2921:function(t,e,n){"use strict";var s=n("da60"),a=n.n(s);a.a},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"495d":function(t,e,n){"use strict";var s=n("0ff7"),a=n.n(s);a.a},"4ebe":function(t,e,n){},"5c81":function(t,e,n){"use strict";var s=n("4ebe"),a=n.n(s);a.a},6762:function(t,e,n){"use strict";var s=n("5ca1"),a=n("c366")(!0);s(s.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"6b54":function(t,e,n){"use strict";n("3846");var s=n("cb7c"),a=n("0bfb"),i=n("9e1e"),o="toString",c=/./[o],r=function(t){n("2aba")(RegExp.prototype,o,t,!0)};n("79e5")((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?r((function(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?a.call(t):void 0)})):c.name!=o&&r((function(){return c.call(this)}))},"7be7":function(t,e,n){"use strict";var s=n("01e2"),a=n.n(s);a.a},"82ac":function(t,e,n){"use strict";var s=n("ddbf"),a=n.n(s);a.a},"8abb":function(t,e,n){"use strict";var s=n("d17f"),a=n.n(s);a.a},"9fc0":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("TopNav",{staticClass:"top-nav",scopedSlots:t._u([{key:"left",fn:function(){return[s("div",{staticClass:"left-nav-container"},[s("router-link",{attrs:{to:"/"}},[s("a",{staticClass:"logo"},[s("span",{staticClass:"logo-icon"}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.changeNav,expression:"!changeNav"}],staticClass:"logo-title"},[t._v("少数派")])])])],1)]},proxy:!0},{key:"center",fn:function(){return[s("ul",{directives:[{name:"show",rawName:"v-show",value:!t.changeNav,expression:"!changeNav"}],staticClass:"center-nav-lists"},[s("li",{staticClass:"nav-list-item"},[s("img",{attrs:{src:n("39b9")}}),s("span",[t._v("Matrix")])]),s("li",{staticClass:"nav-list-item"},[s("img",{attrs:{src:n("b399")}}),s("span",[t._v("付费订阅")])]),s("li",{staticClass:"nav-list-item"},[s("img",{attrs:{src:n("afcb")}}),s("span",[t._v("特别策划")])]),s("li",{staticClass:"nav-list-item"},[s("img",{attrs:{src:n("bee7")}}),s("span",[t._v("Pi Store")])]),s("li",{staticClass:"nav-list-item tron"},[s("img",{attrs:{src:n("df5c")}}),s("span",[t._v("Tron 计划")]),s("div",{staticClass:"tron-box"},[s("a",{staticClass:"tron-link",attrs:{href:"javascript:0"}},[t._v("加入Tron 计划")]),s("a",{staticClass:"tron-link",attrs:{href:"javascript:0"}},[s("img",{attrs:{src:n("b365"),alt:""}})])])])])]},proxy:!0},{key:"right",fn:function(){return[s("div",{staticClass:"right-nav-container"},[s("i",{staticClass:"iconfont",class:t.iconStyle,on:{click:t.showSearchInput}}),s("Search",{directives:[{name:"show",rawName:"v-show",value:t.isShowSearch,expression:"isShowSearch"}],staticClass:"home-search",on:{hideSearch:t.hideSearch}}),t.isLoginSuc?s("NavUser"):s("div",{staticClass:"home-nav-login",class:{"login-btn-black":t.changeNav},on:{click:t.clickLogin}},[t._v("登录")])],1)]},proxy:!0}])})],1)},a=[],i=n("2ff7"),o=n("b7d8"),c=n("2633"),r={name:"PostNav",data:function(){return{isShowSearch:!1,navLists:["推荐","最热","应用推荐","生活方式","Power+"]}},components:{TopNav:i["a"],Search:o["a"],NavUser:c["a"]},methods:{showSearchInput:function(){this.isShowSearch=!this.isShowSearch},clickLogin:function(){this.$store.state.isShowLogin=!0,this.isShowSearch=!1},hideSearch:function(){this.isShowSearch=!1}},computed:{changeNav:function(){return this.$store.state.changeNav},iconStyle:function(){var t=this.isShowSearch?"icon-guanbi":"icon-search",e=this.changeNav?" icon-color":"";return t+e},isLoginSuc:function(){return this.$store.state.isLoginSuc}}},l=r,m=(n("8abb"),n("2877")),u=Object(m["a"])(l,s,a,!1,null,"65c6a95a",null);e["a"]=u.exports},a481:function(t,e,n){"use strict";var s=n("cb7c"),a=n("4bf8"),i=n("9def"),o=n("4588"),c=n("0390"),r=n("5f1b"),l=Math.max,m=Math.min,u=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,v){return[function(s,a){var i=t(this),o=void 0==s?void 0:s[e];return void 0!==o?o.call(s,i,a):n.call(String(i),s,a)},function(t,e){var a=v(n,t,this,e);if(a.done)return a.value;var u=s(t),d=String(this),f="function"===typeof e;f||(e=String(e));var g=u.global;if(g){var C=u.unicode;u.lastIndex=0}var _=[];while(1){var b=r(u,d);if(null===b)break;if(_.push(b),!g)break;var w=String(b[0]);""===w&&(u.lastIndex=c(d,i(u.lastIndex),C))}for(var S="",x=0,k=0;k<_.length;k++){b=_[k];for(var y=String(b[0]),N=l(m(o(b.index),d.length),0),$=[],P=1;P<b.length;P++)$.push(h(b[P]));var L=b.groups;if(f){var T=[y].concat($,N,d);void 0!==L&&T.push(L);var E=String(e.apply(void 0,T))}else E=p(y,d,N,$,L,e);N>=x&&(S+=d.slice(x,N)+E,x=N+y.length)}return S+d.slice(x)}];function p(t,e,s,i,o,c){var r=s+t.length,l=i.length,m=f;return void 0!==o&&(o=a(o),m=d),n.call(c,m,(function(n,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(r);case"<":c=o[a.slice(1,-1)];break;default:var m=+a;if(0===m)return n;if(m>l){var d=u(m/10);return 0===d?n:d<=l?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):n}c=i[m-1]}return void 0===c?"":c}))}}))},d17f:function(t,e,n){},da60:function(t,e,n){},ddbf:function(t,e,n){},e5cf:function(t,e,n){},fb13:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.colseComment}},[n("PostMain",{scopedSlots:t._u([{key:"top",fn:function(){return[n("PostBanner",{attrs:{banner:t.banner,title:t.title,head_img:t.head_img,author:t.author,created_time:t.created_time}})]},proxy:!0},{key:"center",fn:function(){return[n("PostCenter",{attrs:{content:t.content,head_img:t.head_img,author:t.author,view:t.view,comment:t.comment,like_number:t.like_number},on:{userClickZan:t.reqNewData}})]},proxy:!0}])}),n("Comment",{attrs:{isShowRe:t.isShowRe,comment:t.comment},on:{showRe:t.showRe,reqNewData:t.reqNewData}}),n("recommend"),n("Postbottom"),n("goTop",{staticClass:"go-top-component"}),n("PostNav"),n("p",[t._v(t._s(t.b))])],1)},a=[],i=(n("ac6a"),n("6762"),n("6b54"),n("a481"),n("9fc0")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-main"},[n("div",{staticClass:"post-main-top"},[t._t("top")],2),n("div",{staticClass:"post-main-center"},[t._t("center")],2)])},c=[],r={name:"PostMain"},l=r,m=(n("059c"),n("2877")),u=Object(m["a"])(l,o,c,!1,null,"157e051e",null),d=u.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center post-banner"},[n("div",{staticClass:"bgbox"}),n("div",{staticClass:"post-banner-content"},[n("img",{staticClass:"post-banner-img",attrs:{src:t.banner}}),n("h2",[t._v(t._s(t.title))]),n("div",{staticClass:"post-banner-info flex-between"},[n("div",{staticClass:"info-left"},[n("img",{attrs:{src:t.head_img}}),n("span",{staticClass:"author"},[t._v(t._s(t.author))])]),n("div",{staticClass:"info-right"},[t._v(t._s(t.created_time))])])])])},h=[],v={name:"PostBanner",props:{banner:{type:String,default:""},title:{type:String,default:""},head_img:{type:String,default:""},author:{type:String,default:""},created_time:{type:String,default:""}}},p=v,g=(n("7be7"),Object(m["a"])(p,f,h,!1,null,"0a30df38",null)),C=g.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center post-center"},[n("div",{ref:"postcontent",staticClass:"post-article-content",domProps:{innerHTML:t._s(t.content)}}),n("div",{ref:"postleft",staticClass:"post-center-left flex-column-center"},[n("i",{staticClass:"iconfont icon-chongdian center",class:{like_active:t.likeArt.includes(t.article_id)},on:{click:t.likeArticle}}),n("span",[t._v(t._s(t.like_number))]),n("i",{staticClass:"iconfont icon-liuyan",on:{click:t.toComment}}),n("span",[t._v(t._s(t.comment))]),n("i",{staticClass:"iconfont icon-share"})]),n("div",{staticStyle:{width:"100%",height:"1px","background-color":"#eee","max-width":"750px"}}),n("div",{staticClass:"content-bottom"},[n("div",{staticClass:"info-left"},[n("img",{attrs:{src:t.head_img}}),n("span",{staticClass:"author"},[t._v(t._s(t.author))]),n("span",{staticClass:"attention-btn"},[t._v("关注")])])])])},b=[],w=(n("c5f6"),{name:"PostCenter",props:{content:{type:String,default:"<pre>          </pre>"},author:{type:String,default:""},view:{type:Number,default:0},comment:{type:Number,default:0},head_img:{type:String,default:""},like_number:{type:Number,default:0}},data:function(){return{likeArt:[],article_id:0}},created:function(){this.article_id=this.$route.params.id,localStorage.getItem("phoneNumber")},mounted:function(){window.addEventListener("scroll",this.fixedLeft,!1)},methods:{fixedLeft:function(){var t=document.documentElement.clientHeight/2,e=this.$refs.postcontent,n=this.$refs.postleft,s=e.getBoundingClientRect(),a=s.top,i=s.height,o=s.bottom,c=n.getBoundingClientRect().height;t>=a+c/2?(n.style.position="fixed",n.style.top=t-c/2+"px"):t<a+c/2&&(n.style.position="absolute",n.style.top="0px"),i>2*t&&o<=t+c/2&&(n.style.position="absolute",n.style.top=i-c+"px")},toComment:function(){var t=document.querySelector(".post-main").getBoundingClientRect().height,e=document.documentElement,n=document.body,s=setInterval((function(){var a=e.scrollTop||n.scrollTop,i=Math.floor((t-a)/8);e.scrollTop=n.scrollTop=a+i,0==i&&(e.scrollTop=n.scrollTop=t,clearInterval(s))}),5)},likeArticle:function(){}},destroyed:function(){document.documentElement.scrollTop=0,window.removeEventListener("scroll",this.fixedLeft)}}),S=w,x=(n("82ac"),Object(m["a"])(S,_,b,!1,null,"6afe316c",null)),k=x.exports,y=n("8bbb"),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center"},[n("div",{staticClass:"post-rec"},[n("h3",[t._v("推荐阅读")]),n("ul",{staticClass:"recommend-list"},t._l(t.recommentedList,(function(e,s){return n("li",{key:s,on:{click:function(n){return t.toX(e.id)}}},[n("div",{staticClass:"li-list-img"},[n("img",{attrs:{src:e.list_img_src}})]),n("h3",[t._v(t._s(e.title))]),n("div",{staticClass:"article-author-info"},[n("div",{staticClass:"left"},[n("img",{staticClass:"author-header-img",attrs:{src:e.headerImg}}),n("span",{staticClass:"author-username"},[t._v(t._s(e.author))])]),n("div",{staticClass:"right"},[n("span",{staticClass:"article-view"},[n("i",{staticClass:"iconfont icon-like"}),t._v("\n              "+t._s(e.view)+"\n            ")])])])])})),0)])])},$=[],P=n("dc07"),L={name:"recommend",data:function(){return{recommentedList:[]}},created:function(){this.reqData()},methods:{reqData:function(){var t=Object(P["b"])("推荐");this.recommentedList=t.slice(3,9)},toX:function(t){var e=this.$router.resolve({path:"/articledetails/".concat(t)}),n=e.href;window.open(n,"_blank")}}},T=L,E=(n("495d"),Object(m["a"])(T,N,$,!1,null,"6098b46d",null)),j=E.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-bottom"},[n("div",{staticClass:"post-bottom-main flex-between"},[n("div",{staticClass:"left"},[t._m(0),n("Blogroll"),n("p",{staticClass:"copyright"},[t._v("© 2013-2019 少数派 | 粤ICP备09128966号-4 | CC BY-NC 4.0")])],1),t._m(1)])])},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-logo"},[n("span",{staticClass:"logo-icon"}),n("span",{staticClass:"logo-title"},[t._v("少数派")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right"},[n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("关于我们")]),n("a",{attrs:{href:"javascript:0"}},[t._v("联系我们")])]),n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("成为作者")]),n("a",{attrs:{href:"javascript:0"}},[t._v("常见问题")])]),n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("用户协议")]),n("a",{attrs:{href:"javascript:0"}},[t._v("客户端")])])])}],R=n("f516"),A={name:"Postbottom",components:{Blogroll:R["a"]}},M=A,D=(n("2921"),Object(m["a"])(M,q,I,!1,null,"562dadaa",null)),O=D.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center"},[n("div",{staticClass:"comment-comtainer"},[n("div",{staticClass:"comment-title"},[t._v("全部评论（"+t._s(t.comment)+"）")]),n("div",{staticClass:"comment-input"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:t.headImg}})]),n("div",{staticClass:"right"},[t.isShowRe?t._e():n("input",{staticClass:"write-comment",attrs:{type:"text",placeholder:"写下你的评论"},on:{focus:t.writeComment}}),t.isShowRe?n("div",[n("p",{staticClass:"user-name"},[t._v(t._s(t.username))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(e){return t.subComment()}}},[t._v("评论")])])]):t._e()])]),t.isNo?n("div",{staticClass:"no-comment"},[t._v("还没有评论哦~")]):t._e(),n("ul",{staticClass:"comment-ul"},t._l(t.commentList,(function(e,s){return n("div",{key:s,staticClass:"comment-item"},[n("li",{staticClass:"comment-li"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:e.head_img}})]),n("div",{staticClass:"right"},[n("p",{staticClass:"user-name"},[t._v(t._s(e.username))]),n("p",{staticClass:"comment-created-time"},[t._v(t._s(e.createdTime))]),n("p",{staticClass:"comment-content",domProps:{innerHTML:t._s(e.comment_content)}}),n("div",{staticClass:"comment-icon"},[n("i",{staticClass:"iconfont icon-liuyan",on:{click:function(n){return t.showTexterea(e.createdTime)}}}),n("span",{staticClass:"amount"},[t._v(t._s(e.reNumber))]),t.likeList.includes(e.comment_id.toString())?n("i",{staticClass:"iconfont icon-xin",on:{click:function(n){return t.cancleClickZan(e.comment_id)}}}):n("i",{staticClass:"iconfont icon-like",on:{click:function(n){return t.clickZan(e.comment_id)}}}),n("span",{staticClass:"amount"},[t._v(t._s(e.likeNumber))])]),n("div",{staticClass:"texterea-container",attrs:{"data-index":e.createdTime}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(n){return t.subComment(e.comment_id)}}},[t._v("评论")])])]),n("ul",{staticClass:"user-reply"},t._l(e.reComment,(function(s,a){return n("li",{key:a,staticClass:"comment-li"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:s.head_img}})]),n("div",{staticClass:"right"},[n("p",{staticClass:"user-name"},[t._v("\n                    "+t._s(s.username)+"\n                    "),s.re_username?n("span",{staticClass:"reply-username"},[t._v("回复 "+t._s(s.re_username))]):t._e()]),n("p",{staticClass:"comment-created-time"},[t._v(t._s(s.createdTime))]),n("p",{staticClass:"comment-content",domProps:{innerHTML:t._s(s.content)}}),n("div",{staticClass:"comment-icon"},[n("i",{staticClass:"iconfont icon-liuyan",on:{click:function(e){return t.showTexterea(s.createdTime)}}}),n("span",{staticClass:"amount"},[t._v(t._s(s.reNumber))]),t.likeList.includes(s.comment_id.toString())?n("i",{staticClass:"iconfont icon-xin",on:{click:function(e){return t.cancleClickZan(s.comment_id)}}}):n("i",{staticClass:"iconfont icon-like",on:{click:function(e){return t.clickZan(s.comment_id)}}}),n("span",{staticClass:"amount"},[t._v(t._s(s.likeNumber))])]),n("div",{staticClass:"texterea-container",attrs:{"data-index":s.createdTime}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(n){return t.subComment(e.comment_id,s.username,s.comment_id)}}},[t._v("评论")])])])])])})),0)])])])})),0)])])},Z=[],F={name:"comment",props:{isShowRe:{type:Boolean,default:!1},comment:{type:Number,default:0}},data:function(){return{headImg:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1571071012103&di=246bbc25cc64b3ae9e466baf1755e816&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01460b57e4a6fa0000012e7ed75e83.png%401280w_1l_2o_100sh.png",username:"Mestarry",commentList:[],isNo:!0,commentContent:"",likeList:[]}},created:function(){this.reqIsClickZan(),this.reqComment(),localStorage.getItem("phoneNumber")},methods:{writeComment:function(){if(localStorage.getItem("phoneNumber")){this.$emit("showRe",!0);var t=document.querySelectorAll(".texterea-container");t.forEach((function(t){t.style.display="none"}))}else this.$store.state.isShowLogin=!0},reqComment:function(){var t=this.$route.params.id;Object(P["c"])(t)},subComment:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.$emit("showRe",!1),this.commentContent.trim())this.$route.params.id,localStorage.getItem("uid"),this.commentContent.replace(/\n|\r\n/g,"<br/>");else this.$store.state.toastMsg="不能提交空内容！",this.$store.state.isShowPopup=!0},showTexterea:function(t){var e=document.querySelectorAll(".texterea-container");e.forEach((function(t){t.style.display="none"}));var n=document.querySelector(".texterea-container[data-index='".concat(t,"']"));n.style.display="block"},clickZan:function(t){localStorage.getItem("phoneNumber")||(this.$store.state.isShowLogin=!0)},reqIsClickZan:function(){},cancleClickZan:function(t){}}},H=F,z=(n("5c81"),Object(m["a"])(H,B,Z,!1,null,"22312c06",null)),J=z.exports,U={name:"Post",props:["id"],components:{PostNav:i["a"],PostMain:d,PostBanner:C,PostCenter:k,goTop:y["a"],recommend:j,Postbottom:O,Comment:J},data:function(){return{isShowRe:!1,banner:"",title:"",head_img:"",author:"",created_time:"",content:"",view:1,comment:1,like_number:1,b:""}},created:function(){var t="";this.b=t.replace(/\s+/g," "),this.reqArticleData()},methods:{reqArticleData:function(){var t=this.$route.params.id,e=Object(P["a"])(t);if(e.id){var n=new Date(1e3*e.created_time),s=n.getMonth()+1;1===s.toString().length&&(s="0"+s.toString());var a=n.getDate();1===a.toString().length&&(a="0"+a.toString()),this.created_time="".concat(s,"月").concat(a,"日"),this.banner=e.banner_img_src,this.title=e.title,this.head_img=e.headerImg,this.author=e.author,this.content=e.content,this.view=e.view,this.comment=e.comment,this.like_number=e.like_number}else this.$router.push("/")},colseComment:function(t){var e=t.target,n=["comment-input","comment-submit","file-btn","comment-textarea","iconfont icon-liuyan"],s=n.includes(e.className);if(!s){this.isShowRe=!1;var a=document.querySelectorAll(".texterea-container");a.forEach((function(t){t.style.display="none"}))}},showRe:function(t){this.isShowRe=t},reqNewData:function(){this.reqArticleData()}}},X=U,Y=Object(m["a"])(X,s,a,!1,null,"36ac5418",null);e["default"]=Y.exports}}]);
//# sourceMappingURL=chunk-67631e48.a33925c1.js.map