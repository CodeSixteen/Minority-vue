(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de00fcf6"],{"044c":function(t,e,n){"use strict";var a=n("eafb"),i=n.n(a);i.a},"059c":function(t,e,n){"use strict";var a=n("e5cf"),i=n.n(a);i.a},"0aeb":function(t,e,n){"use strict";var a=n("ea48"),i=n.n(a);i.a},"11e9":function(t,e,n){var a=n("52a7"),i=n("4630"),s=n("6821"),c=n("6a99"),o=n("69a8"),r=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=s(t),e=c(e,!0),r)try{return l(t,e)}catch(n){}if(o(t,e))return i(!a.f.call(t,e),t[e])}},"2abe":function(t,e,n){},"2fdb":function(t,e,n){"use strict";var a=n("5ca1"),i=n("d2c8"),s="includes";a(a.P+a.F*n("5147")(s),"String",{includes:function(t){return!!~i(this,t,s).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"352c":function(t,e,n){},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"50c7":function(t,e,n){},5147:function(t,e,n){var a=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,!"/./"[t](e)}catch(i){}}return!0}},"5dbc":function(t,e,n){var a=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var s,c=e.constructor;return c!==n&&"function"==typeof c&&(s=c.prototype)!==n.prototype&&a(s)&&i&&i(t,s),t}},6762:function(t,e,n){"use strict";var a=n("5ca1"),i=n("c366")(!0);a(a.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),i=n("0bfb"),s=n("9e1e"),c="toString",o=/./[c],r=function(t){n("2aba")(RegExp.prototype,c,t,!0)};n("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?r((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?i.call(t):void 0)})):o.name!=c&&r((function(){return o.call(this)}))},"749a":function(t,e,n){"use strict";var a=n("8470"),i=n.n(a);i.a},"7a9f":function(t,e,n){"use strict";var a=n("2abe"),i=n.n(a);i.a},"7bf9":function(t,e,n){"use strict";var a=n("352c"),i=n.n(a);i.a},8470:function(t,e,n){},"8b97":function(t,e,n){var a=n("d3f4"),i=n("cb7c"),s=function(t,e){if(i(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:s}},9093:function(t,e,n){var a=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,i)}},9321:function(t,e,n){"use strict";var a=n("50c7"),i=n.n(a);i.a},"9fc0":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TopNav",{staticClass:"top-nav",scopedSlots:t._u([{key:"left",fn:function(){return[a("div",{staticClass:"left-nav-container"},[a("router-link",{attrs:{to:"/"}},[a("a",{staticClass:"logo"},[a("span",{staticClass:"logo-icon"}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.changeNav,expression:"!changeNav"}],staticClass:"logo-title"},[t._v("少数派")])])])],1)]},proxy:!0},{key:"center",fn:function(){return[a("ul",{directives:[{name:"show",rawName:"v-show",value:!t.changeNav,expression:"!changeNav"}],staticClass:"center-nav-lists"},[a("li",{staticClass:"nav-list-item"},[a("img",{attrs:{src:n("c315")}}),a("span",[t._v("Matrix")])]),a("li",{staticClass:"nav-list-item"},[a("img",{attrs:{src:n("cbf6")}}),a("span",[t._v("付费订阅")])]),a("li",{staticClass:"nav-list-item"},[a("img",{attrs:{src:n("7067")}}),a("span",[t._v("特别策划")])]),a("li",{staticClass:"nav-list-item"},[a("img",{attrs:{src:n("2430")}}),a("span",[t._v("Pi Store")])]),a("li",{staticClass:"nav-list-item tron"},[a("img",{attrs:{src:n("ee64")}}),a("span",[t._v("Tron 计划")]),a("div",{staticClass:"tron-box"},[a("a",{staticClass:"tron-link",attrs:{href:"javascript:0"}},[t._v("加入Tron 计划")]),a("a",{staticClass:"tron-link",attrs:{href:"javascript:0"}},[a("img",{attrs:{src:n("c478"),alt:""}})])])])])]},proxy:!0},{key:"right",fn:function(){return[a("div",{staticClass:"right-nav-container"},[a("i",{staticClass:"iconfont",class:t.iconStyle,on:{click:t.showSearchInput}}),a("Search",{directives:[{name:"show",rawName:"v-show",value:t.isShowSearch,expression:"isShowSearch"}],staticClass:"home-search",on:{hideSearch:t.hideSearch}}),t.isLoginSuc?a("NavUser"):a("div",{staticClass:"home-nav-login",class:{"login-btn-black":t.changeNav},on:{click:t.clickLogin}},[t._v("登录")])],1)]},proxy:!0}])})],1)},i=[],s=n("2ff7"),c=n("b7d8"),o=n("2633"),r={name:"PostNav",data:function(){return{isShowSearch:!1,navLists:["推荐","最热","应用推荐","生活方式","Power+"]}},components:{TopNav:s["a"],Search:c["a"],NavUser:o["a"]},methods:{showSearchInput:function(){this.isShowSearch=!this.isShowSearch},clickLogin:function(){this.$store.state.isShowLogin=!0,this.isShowSearch=!1},hideSearch:function(){this.isShowSearch=!1}},computed:{changeNav:function(){return this.$store.state.changeNav},iconStyle:function(){var t=this.isShowSearch?"icon-guanbi":"icon-search",e=this.changeNav?" icon-color":"";return t+e},isLoginSuc:function(){return this.$store.state.isLoginSuc}}},l=r,u=(n("749a"),n("2877")),m=Object(u["a"])(l,a,i,!1,null,"4d2e68d6",null);e["a"]=m.exports},a481:function(t,e,n){"use strict";var a=n("cb7c"),i=n("4bf8"),s=n("9def"),c=n("4588"),o=n("0390"),r=n("5f1b"),l=Math.max,u=Math.min,m=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,v){return[function(a,i){var s=t(this),c=void 0==a?void 0:a[e];return void 0!==c?c.call(a,s,i):n.call(String(s),a,i)},function(t,e){var i=v(n,t,this,e);if(i.done)return i.value;var m=a(t),f=String(this),d="function"===typeof e;d||(e=String(e));var g=m.global;if(g){var _=m.unicode;m.lastIndex=0}var C=[];while(1){var b=r(m,f);if(null===b)break;if(C.push(b),!g)break;var k=String(b[0]);""===k&&(m.lastIndex=o(f,s(m.lastIndex),_))}for(var S="",w=0,y=0;y<C.length;y++){b=C[y];for(var x=String(b[0]),N=l(u(c(b.index),f.length),0),I=[],E=1;E<b.length;E++)I.push(h(b[E]));var $=b.groups;if(d){var P=[x].concat(I,N,f);void 0!==$&&P.push($);var A=String(e.apply(void 0,P))}else A=p(x,f,N,I,$,e);N>=w&&(S+=f.slice(w,N)+A,w=N+x.length)}return S+f.slice(w)}];function p(t,e,a,s,c,o){var r=a+t.length,l=s.length,u=d;return void 0!==c&&(c=i(c),u=f),n.call(o,u,(function(n,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(r);case"<":o=c[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var f=m(u/10);return 0===f?n:f<=l?void 0===s[f-1]?i.charAt(1):s[f-1]+i.charAt(1):n}o=s[u-1]}return void 0===o?"":o}))}}))},aa77:function(t,e,n){var a=n("5ca1"),i=n("be13"),s=n("79e5"),c=n("fdef"),o="["+c+"]",r="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),m=function(t,e,n){var i={},o=s((function(){return!!c[t]()||r[t]()!=r})),l=i[t]=o?e(f):c[t];n&&(i[n]=l),a(a.P+a.F*o,"String",i)},f=m.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=m},c5f6:function(t,e,n){"use strict";var a=n("7726"),i=n("69a8"),s=n("2d95"),c=n("5dbc"),o=n("6a99"),r=n("79e5"),l=n("9093").f,u=n("11e9").f,m=n("86cc").f,f=n("aa77").trim,d="Number",h=a[d],v=h,p=h.prototype,g=s(n("2aeb")(p))==d,_="trim"in String.prototype,C=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():f(e,3);var n,a,i,s=e.charCodeAt(0);if(43===s||45===s){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+e}for(var c,r=e.slice(2),l=0,u=r.length;l<u;l++)if(c=r.charCodeAt(l),c<48||c>i)return NaN;return parseInt(r,a)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(g?r((function(){p.valueOf.call(n)})):s(n)!=d)?c(new v(C(e)),n,h):C(e)};for(var b,k=n("9e1e")?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)i(v,b=k[S])&&!i(h,b)&&m(h,b,u(v,b));h.prototype=p,p.constructor=h,n("2aba")(a,d,h)}},d2c8:function(t,e,n){var a=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(a(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},e5cf:function(t,e,n){},ea48:function(t,e,n){},eafb:function(t,e,n){},ee61:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.colseComment}},[n("PostMain",{scopedSlots:t._u([{key:"top",fn:function(){return[n("PostBanner",{attrs:{banner:t.banner,title:t.title,head_img:t.head_img,author:t.author,created_time:t.created_time}})]},proxy:!0},{key:"center",fn:function(){return[n("PostCenter",{attrs:{content:t.content,head_img:t.head_img,author:t.author,view:t.view,comment:t.comment,like_number:t.like_number},on:{userClickZan:t.reqNewData}})]},proxy:!0}])}),n("Comment",{attrs:{isShowRe:t.isShowRe,comment:t.comment},on:{showRe:t.showRe,reqNewData:t.reqNewData}}),n("recommend"),n("Postbottom"),n("goTop",{staticClass:"go-top-component"}),n("PostNav")],1)},i=[],s=(n("ac6a"),n("6762"),n("6b54"),n("9fc0")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-main"},[n("div",{staticClass:"post-main-top"},[t._t("top")],2),n("div",{staticClass:"post-main-center"},[t._t("center")],2)])},o=[],r={name:"PostMain"},l=r,u=(n("059c"),n("2877")),m=Object(u["a"])(l,c,o,!1,null,"157e051e",null),f=m.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center post-banner"},[n("div",{staticClass:"bgbox"}),n("div",{staticClass:"post-banner-content"},[n("img",{staticClass:"post-banner-img",attrs:{src:t.banner}}),n("h2",[t._v(t._s(t.title))]),n("div",{staticClass:"post-banner-info flex-between"},[n("div",{staticClass:"info-left"},[n("img",{attrs:{src:t.head_img}}),n("span",{staticClass:"author"},[t._v(t._s(t.author))])]),n("div",{staticClass:"info-right"},[t._v(t._s(t.created_time))])])])])},h=[],v={name:"PostBanner",props:{banner:{type:String,default:""},title:{type:String,default:""},head_img:{type:String,default:""},author:{type:String,default:""},created_time:{type:String,default:""}}},p=v,g=(n("9321"),Object(u["a"])(p,d,h,!1,null,"c696fbf2",null)),_=g.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center post-center"},[n("div",{ref:"postcontent",staticClass:"post-article-content",domProps:{innerHTML:t._s(t.content)}}),n("div",{ref:"postleft",staticClass:"post-center-left flex-column-center"},[n("i",{staticClass:"iconfont icon-chongdian center",class:{like_active:t.likeArt.includes(t.article_id)},on:{click:t.likeArticle}}),n("span",[t._v(t._s(t.like_number))]),n("i",{staticClass:"iconfont icon-liuyan",on:{click:t.toComment}}),n("span",[t._v(t._s(t.comment))]),n("i",{staticClass:"iconfont icon-share"})]),n("div",{staticStyle:{width:"100%",height:"1px","background-color":"#eee","max-width":"750px"}}),n("div",{staticClass:"content-bottom"},[n("div",{staticClass:"info-left"},[n("img",{attrs:{src:t.head_img}}),n("span",{staticClass:"author"},[t._v(t._s(t.author))]),n("span",{staticClass:"attention-btn"},[t._v("关注")])])])])},b=[],k=(n("2fdb"),n("c5f6"),n("336b")),S=n("8442");function w(t){return Object(S["a"])({url:"article",method:"post",data:t})}function y(t){return Object(k["a"])({url:"article/comment/".concat(t)})}function x(){return Object(k["a"])({url:"article/recommented"})}function N(t){return Object(S["a"])({url:"article/submitcomment",method:"post",data:t})}function I(t){return Object(S["a"])({url:"article/clickZan",method:"post",data:t})}function E(t){return Object(S["a"])({url:"article/isclickzan",method:"post",data:t})}function $(t){return Object(S["a"])({url:"article/cancleclickzan",method:"post",data:t})}function P(t){return Object(S["a"])({url:"article/articleclickZan",method:"post",data:t})}function A(t){return Object(S["a"])({url:"article/canclearticleclickZan",method:"post",data:t})}function T(t){return Object(S["a"])({url:"article/articleIsClickZ",method:"post",data:t})}var j={name:"PostCenter",props:{content:{type:String,default:"<p>内容</p>"},author:{type:String,default:""},view:{type:Number,default:0},comment:{type:Number,default:0},head_img:{type:String,default:""},like_number:{type:Number,default:0}},data:function(){return{likeArt:[],article_id:0}},created:function(){this.article_id=this.$route.params.id,this.reqArticleUserClickZan()},updated:function(){window.addEventListener("scroll",this.fixedLeft,!1)},methods:{fixedLeft:function(){var t=document.documentElement.clientHeight/2,e=this.$refs.postcontent,n=this.$refs.postleft,a=e.getBoundingClientRect(),i=a.top,s=a.height,c=a.bottom,o=n.getBoundingClientRect().height;t>=i+o/2?(n.style.position="fixed",n.style.top=t-o/2+"px"):t<i+o/2&&(n.style.position="absolute",n.style.top="0px"),s>2*t&&c<=t+o/2&&(n.style.position="absolute",n.style.top=s-o+"px")},toComment:function(){var t=document.querySelector(".post-main").getBoundingClientRect().height,e=document.documentElement,n=document.body,a=setInterval((function(){var i=e.scrollTop||n.scrollTop,s=Math.floor((t-i)/8);e.scrollTop=n.scrollTop=i+s,0==s&&(e.scrollTop=n.scrollTop=t,clearInterval(a))}),5)},likeArticle:function(){var t=this,e=localStorage.getItem("uid");e=e||0,this.likeArt.includes(this.article_id)?A({uid:e,article_id:this.article_id}).then((function(e){console.log(e),t.reqArticleUserClickZan(),t.$emit("userClickZan")})):P({uid:e,article_id:this.article_id}).then((function(e){console.log(e),t.reqArticleUserClickZan(),t.$emit("userClickZan")}))},reqArticleUserClickZan:function(){var t=this,e=localStorage.getItem("uid");e&&(e=e||0,T({uid:e}).then((function(e){console.log(e),t.likeArt=e.data})))}},destroyed:function(){document.documentElement.scrollTop=0,window.removeEventListener("scroll",this.fixedLeft)}},L=j,q=(n("7bf9"),Object(u["a"])(L,C,b,!1,null,"720d341b",null)),O=q.exports,R=n("8bbb"),Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center"},[n("div",{staticClass:"post-rec"},[n("h3",[t._v("推荐阅读")]),n("ul",{staticClass:"recommend-list"},t._l(t.recommentedList,(function(e,a){return n("li",{key:a,on:{click:function(n){return t.toX(e.id)}}},[n("div",{staticClass:"li-list-img"},[n("img",{attrs:{src:e.list_img_src}})]),n("h3",[t._v(t._s(e.title))]),n("div",{staticClass:"article-author-info"},[n("div",{staticClass:"left"},[n("img",{staticClass:"author-header-img",attrs:{src:e.headerImg}}),n("span",{staticClass:"author-username"},[t._v(t._s(e.author))])]),n("div",{staticClass:"right"},[n("span",{staticClass:"article-view"},[n("i",{staticClass:"iconfont icon-like"}),t._v("\n              "+t._s(e.view)+"\n            ")])])])])})),0)])])},M=[],D={name:"recommend",data:function(){return{recommentedList:[]}},created:function(){this.reqData()},methods:{reqData:function(){var t=this;x().then((function(e){t.recommentedList=e.data})).catch((function(t){console.log(t)}))},toX:function(t){var e=this.$router.resolve({path:"/post/".concat(t)}),n=e.href;window.open(n,"_blank")}}},B=D,F=(n("0aeb"),Object(u["a"])(B,Z,M,!1,null,"49251396",null)),U=F.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-bottom"},[n("div",{staticClass:"post-bottom-main flex-between"},[n("div",{staticClass:"left"},[t._m(0),n("Blogroll"),n("p",{staticClass:"copyright"},[t._v("© 2013-2019 少数派 | 粤ICP备09128966号-4 | CC BY-NC 4.0")])],1),t._m(1)])])},V=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-logo"},[n("span",{staticClass:"logo-icon"}),n("span",{staticClass:"logo-title"},[t._v("少数派")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right"},[n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("关于我们")]),n("a",{attrs:{href:"javascript:0"}},[t._v("联系我们")])]),n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("成为作者")]),n("a",{attrs:{href:"javascript:0"}},[t._v("常见问题")])]),n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("用户协议")]),n("a",{attrs:{href:"javascript:0"}},[t._v("客户端")])])])}],X=n("f516"),Y={name:"Postbottom",components:{Blogroll:X["a"]}},G=Y,z=(n("7a9f"),Object(u["a"])(G,H,V,!1,null,"7703b87a",null)),J=z.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center"},[n("div",{staticClass:"comment-comtainer"},[n("div",{staticClass:"comment-title"},[t._v("全部评论（"+t._s(t.comment)+"）")]),n("div",{staticClass:"comment-input"},[t._m(0),n("div",{staticClass:"right"},[t.isShowRe?t._e():n("input",{staticClass:"write-comment",attrs:{type:"text",placeholder:"写下你的评论"},on:{focus:t.writeComment}}),t.isShowRe?n("div",[n("p",{staticClass:"user-name"},[t._v(t._s(t.username))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(e){return t.subComment()}}},[t._v("评论")])])]):t._e()])]),t.isNo?n("div",{staticClass:"no-comment"},[t._v("还没有评论哦！")]):t._e(),n("ul",{staticClass:"comment-ul"},t._l(t.commentList,(function(e,a){return n("div",{key:a,staticClass:"comment-item"},[n("li",{staticClass:"comment-li"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:e.head_img}})]),n("div",{staticClass:"right"},[n("p",{staticClass:"user-name"},[t._v(t._s(e.username))]),n("p",{staticClass:"comment-created-time"},[t._v(t._s(e.createdTime))]),n("p",{staticClass:"comment-content",domProps:{innerHTML:t._s(e.content)}}),n("div",{staticClass:"comment-icon"},[n("i",{staticClass:"iconfont icon-liuyan",on:{click:function(n){return t.showTexterea(e.createdTime)}}}),n("span",{staticClass:"amount"},[t._v(t._s(e.reNumber))]),t.likeList.includes(e.comment_id.toString())?n("i",{staticClass:"iconfont icon-xin",on:{click:function(n){return t.cancleClickZan(e.comment_id)}}}):n("i",{staticClass:"iconfont icon-like",on:{click:function(n){return t.clickZan(e.comment_id)}}}),n("span",{staticClass:"amount"},[t._v(t._s(e.likeNumber))])]),n("div",{staticClass:"texterea-container",attrs:{"data-index":e.createdTime}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(n){return t.subComment(e.comment_id)}}},[t._v("评论")])])]),n("ul",{staticClass:"user-reply"},t._l(e.reComment,(function(a,i){return n("li",{key:i,staticClass:"comment-li"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:a.head_img}})]),n("div",{staticClass:"right"},[n("p",{staticClass:"user-name"},[t._v("\n                    "+t._s(a.username)+"\n                    "),a.re_username?n("span",{staticClass:"reply-username"},[t._v("回复 "+t._s(a.re_username))]):t._e()]),n("p",{staticClass:"comment-created-time"},[t._v(t._s(a.createdTime))]),n("p",{staticClass:"comment-content",domProps:{innerHTML:t._s(a.content)}}),n("div",{staticClass:"comment-icon"},[n("i",{staticClass:"iconfont icon-liuyan",on:{click:function(e){return t.showTexterea(a.createdTime)}}}),n("span",{staticClass:"amount"},[t._v(t._s(a.reNumber))]),t.likeList.includes(a.comment_id.toString())?n("i",{staticClass:"iconfont icon-xin",on:{click:function(e){return t.cancleClickZan(a.comment_id)}}}):n("i",{staticClass:"iconfont icon-like",on:{click:function(e){return t.clickZan(a.comment_id)}}}),n("span",{staticClass:"amount"},[t._v(t._s(a.likeNumber))])]),n("div",{staticClass:"texterea-container",attrs:{"data-index":a.createdTime}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(n){return t.subComment(e.comment_id,a.username,a.comment_id)}}},[t._v("评论")])])])])])})),0)])])])})),0)])])},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:"http://localhost:8102/upload/head_img.png"}})])}],W=(n("a481"),{name:"comment",props:{isShowRe:{type:Boolean,default:!1},comment:{type:Number,default:0}},data:function(){return{username:"",commentList:[],isNo:!0,commentContent:"",likeList:[]}},created:function(){this.reqIsClickZan(),this.reqComment(),this.username=localStorage.getItem("user_name")},methods:{cc:function(){console.log(this.commentContent)},writeComment:function(){this.$emit("showRe",!0);var t=document.querySelectorAll(".texterea-container");t.forEach((function(t){t.style.display="none"}))},reqComment:function(){var t=this,e=this.$route.params.id;y(e).then((function(e){e.data&&(t.isNo=!1),t.commentList=e.data})).catch((function(t){console.log(t)}))},subComment:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this.$emit("showRe",!1),this.commentContent.trim()){var i=this.$route.params.id,s=e,c=localStorage.getItem("uid"),o=n,r=a,l=this.commentContent.replace(/\n|\r\n/g,"<br/>");N({article_id:i,re_comment_id:s,user_id:c,re_username:o,subCommentId:r,content:l}).then((function(e){t.$emit("reqNewData"),t.commentContent="";var n=document.querySelectorAll(".texterea-container");n.forEach((function(t){t.style.display="none"})),t.reqComment()})).catch((function(t){console.log(t)}))}else this.$store.state.toastMsg="不能提交空内容！",this.$store.state.isShowPopup=!0},showTexterea:function(t){var e=document.querySelectorAll(".texterea-container");e.forEach((function(t){t.style.display="none"}));var n=document.querySelector(".texterea-container[data-index='".concat(t,"']"));n.style.display="block"},clickZan:function(t){var e=this,n=localStorage.getItem("uid");if(n){var a=t;I({uid:n,comment_id:a}).then((function(t){t.err||(e.reqIsClickZan(),e.reqComment())}))}else this.$store.state.isShowLogin=!0},reqIsClickZan:function(){var t=this,e=localStorage.getItem("uid");e=e||0,E({uid:e}).then((function(e){t.likeList=e.data,console.log(t.likeList)}))},cancleClickZan:function(t){var e=this,n=localStorage.getItem("uid");n&&(n=n||0,$({uid:n,comment_id:t}).then((function(t){console.log(t),t.err||(e.reqIsClickZan(),e.reqComment())})))}}}),tt=W,et=(n("044c"),Object(u["a"])(tt,K,Q,!1,null,"4b09bcf3",null)),nt=et.exports,at={name:"Post",props:["id"],components:{PostNav:s["a"],PostMain:f,PostBanner:_,PostCenter:O,goTop:R["a"],recommend:U,Postbottom:J,Comment:nt},data:function(){return{isShowRe:!1,banner:"http://localhost:8102/upload/article_banner.png",title:"",head_img:"http://localhost:8102/upload/article_head_img.png",author:"",created_time:"",content:"",view:1,comment:1,like_number:1}},created:function(){this.reqArticleData()},methods:{reqArticleData:function(){var t=this,e=this.$route.params.id;w({id:e}).then((function(e){var n=e.data,a=new Date(1e3*n.created_time),i=a.getMonth()+1;1===i.toString().length&&(i="0"+i.toString());var s=a.getDate();1===s.toString().length&&(s="0"+s.toString()),t.created_time="".concat(a.getFullYear(),"-").concat(i,"-").concat(s),t.banner=n.banner_img_src,t.title=n.title,t.head_img=n.headerImg,t.author=n.author,t.content=n.content,t.view=n.view,t.comment=n.comment,t.like_number=n.like_number})).catch((function(t){console.log(t)}))},colseComment:function(t){var e=t.target,n=["comment-input","comment-submit","file-btn","comment-textarea","iconfont icon-liuyan"],a=n.includes(e.className);if(!a){this.isShowRe=!1;var i=document.querySelectorAll(".texterea-container");i.forEach((function(t){t.style.display="none"}))}},showRe:function(t){this.isShowRe=t},reqNewData:function(){this.reqArticleData()}}},it=at,st=Object(u["a"])(it,a,i,!1,null,"55842b0d",null);e["default"]=st.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-de00fcf6.5eafe18f.js.map