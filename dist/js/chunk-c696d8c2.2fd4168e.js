(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c696d8c2"],{"020b":function(t,e,n){"use strict";var a=n("bf44"),i=n.n(a);i.a},"059c":function(t,e,n){"use strict";var a=n("e5cf"),i=n.n(a);i.a},"0c82":function(t,e,n){"use strict";var a=n("4519"),i=n.n(a);i.a},"11e9":function(t,e,n){var a=n("52a7"),i=n("4630"),c=n("6821"),s=n("6a99"),r=n("69a8"),o=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=c(t),e=s(e,!0),o)try{return l(t,e)}catch(n){}if(r(t,e))return i(!a.f.call(t,e),t[e])}},2921:function(t,e,n){"use strict";var a=n("da60"),i=n.n(a);i.a},"2fdb":function(t,e,n){"use strict";var a=n("5ca1"),i=n("d2c8"),c="includes";a(a.P+a.F*n("5147")(c),"String",{includes:function(t){return!!~i(this,t,c).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"352c":function(t,e,n){},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},4519:function(t,e,n){},5147:function(t,e,n){var a=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,!"/./"[t](e)}catch(i){}}return!0}},"5dbc":function(t,e,n){var a=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var c,s=e.constructor;return s!==n&&"function"==typeof s&&(c=s.prototype)!==n.prototype&&a(c)&&i&&i(t,c),t}},6762:function(t,e,n){"use strict";var a=n("5ca1"),i=n("c366")(!0);a(a.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),i=n("0bfb"),c=n("9e1e"),s="toString",r=/./[s],o=function(t){n("2aba")(RegExp.prototype,s,t,!0)};n("79e5")((function(){return"/a/b"!=r.call({source:"a",flags:"b"})}))?o((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!c&&t instanceof RegExp?i.call(t):void 0)})):r.name!=s&&o((function(){return r.call(this)}))},"748b":function(t,e,n){},"7bf9":function(t,e,n){"use strict";var a=n("352c"),i=n.n(a);i.a},"8b97":function(t,e,n){var a=n("d3f4"),i=n("cb7c"),c=function(t,e){if(i(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return c(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:c}},9093:function(t,e,n){var a=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,i)}},"9fc0":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TopNav",{staticClass:"top-nav",scopedSlots:t._u([{key:"left",fn:function(){return[a("div",{staticClass:"left-nav-container"},[a("router-link",{attrs:{to:"/"}},[a("a",{staticClass:"logo"},[a("span",{staticClass:"logo-icon"}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.changeNav,expression:"!changeNav"}],staticClass:"logo-title"},[t._v("少数派")])])])],1)]},proxy:!0},{key:"center",fn:function(){return[a("ul",{directives:[{name:"show",rawName:"v-show",value:!t.changeNav,expression:"!changeNav"}],staticClass:"center-nav-lists"},[a("li",{staticClass:"nav-list-item"},[a("img",{attrs:{src:n("39b9")}}),a("span",[t._v("Matrix")])]),a("li",{staticClass:"nav-list-item"},[a("img",{attrs:{src:n("b399")}}),a("span",[t._v("付费订阅")])]),a("li",{staticClass:"nav-list-item"},[a("img",{attrs:{src:n("afcb")}}),a("span",[t._v("特别策划")])]),a("li",{staticClass:"nav-list-item"},[a("img",{attrs:{src:n("bee7")}}),a("span",[t._v("Pi Store")])]),a("li",{staticClass:"nav-list-item tron"},[a("img",{attrs:{src:n("df5c")}}),a("span",[t._v("Tron 计划")]),a("div",{staticClass:"tron-box"},[a("a",{staticClass:"tron-link",attrs:{href:"javascript:0"}},[t._v("加入Tron 计划")]),a("a",{staticClass:"tron-link",attrs:{href:"javascript:0"}},[a("img",{attrs:{src:n("b365"),alt:""}})])])])])]},proxy:!0},{key:"right",fn:function(){return[a("div",{staticClass:"right-nav-container"},[a("i",{staticClass:"iconfont",class:t.iconStyle,on:{click:t.showSearchInput}}),a("Search",{directives:[{name:"show",rawName:"v-show",value:t.isShowSearch,expression:"isShowSearch"}],staticClass:"home-search",on:{hideSearch:t.hideSearch}}),t.isLoginSuc?a("NavUser"):a("div",{staticClass:"home-nav-login",class:{"login-btn-black":t.changeNav},on:{click:t.clickLogin}},[t._v("登录")])],1)]},proxy:!0}])})],1)},i=[],c=n("2ff7"),s=n("b7d8"),r=n("2633"),o={name:"PostNav",data:function(){return{isShowSearch:!1,navLists:["推荐","最热","应用推荐","生活方式","Power+"]}},components:{TopNav:c["a"],Search:s["a"],NavUser:r["a"]},methods:{showSearchInput:function(){this.isShowSearch=!this.isShowSearch},clickLogin:function(){this.$store.state.isShowLogin=!0,this.isShowSearch=!1},hideSearch:function(){this.isShowSearch=!1}},computed:{changeNav:function(){return this.$store.state.changeNav},iconStyle:function(){var t=this.isShowSearch?"icon-guanbi":"icon-search",e=this.changeNav?" icon-color":"";return t+e},isLoginSuc:function(){return this.$store.state.isLoginSuc}}},l=o,u=(n("0c82"),n("2877")),m=Object(u["a"])(l,a,i,!1,null,"1d3a663f",null);e["a"]=m.exports},a481:function(t,e,n){"use strict";var a=n("cb7c"),i=n("4bf8"),c=n("9def"),s=n("4588"),r=n("0390"),o=n("5f1b"),l=Math.max,u=Math.min,m=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,p){return[function(a,i){var c=t(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,c,i):n.call(String(c),a,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var m=a(t),d=String(this),f="function"===typeof e;f||(e=String(e));var g=m.global;if(g){var _=m.unicode;m.lastIndex=0}var b=[];while(1){var C=o(m,d);if(null===C)break;if(b.push(C),!g)break;var y=String(C[0]);""===y&&(m.lastIndex=r(d,c(m.lastIndex),_))}for(var x="",S=0,w=0;w<b.length;w++){C=b[w];for(var k=String(C[0]),N=l(u(s(C.index),d.length),0),I=[],j=1;j<C.length;j++)I.push(h(C[j]));var q=C.groups;if(f){var E=[k].concat(I,N,d);void 0!==q&&E.push(q);var $=String(e.apply(void 0,E))}else $=v(k,d,N,I,q,e);N>=S&&(x+=d.slice(S,N)+$,S=N+k.length)}return x+d.slice(S)}];function v(t,e,a,c,s,r){var o=a+t.length,l=c.length,u=f;return void 0!==s&&(s=i(s),u=d),n.call(r,u,(function(n,i){var r;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(o);case"<":r=s[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var d=m(u/10);return 0===d?n:d<=l?void 0===c[d-1]?i.charAt(1):c[d-1]+i.charAt(1):n}r=c[u-1]}return void 0===r?"":r}))}}))},a667:function(t,e,n){"use strict";var a=n("748b"),i=n.n(a);i.a},aa77:function(t,e,n){var a=n("5ca1"),i=n("be13"),c=n("79e5"),s=n("fdef"),r="["+s+"]",o="​",l=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),m=function(t,e,n){var i={},r=c((function(){return!!s[t]()||o[t]()!=o})),l=i[t]=r?e(d):s[t];n&&(i[n]=l),a(a.P+a.F*r,"String",i)},d=m.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=m},bf44:function(t,e,n){},c5f6:function(t,e,n){"use strict";var a=n("7726"),i=n("69a8"),c=n("2d95"),s=n("5dbc"),r=n("6a99"),o=n("79e5"),l=n("9093").f,u=n("11e9").f,m=n("86cc").f,d=n("aa77").trim,f="Number",h=a[f],p=h,v=h.prototype,g=c(n("2aeb")(v))==f,_="trim"in String.prototype,b=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():d(e,3);var n,a,i,c=e.charCodeAt(0);if(43===c||45===c){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===c){switch(e.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+e}for(var s,o=e.slice(2),l=0,u=o.length;l<u;l++)if(s=o.charCodeAt(l),s<48||s>i)return NaN;return parseInt(o,a)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(g?o((function(){v.valueOf.call(n)})):c(n)!=f)?s(new p(b(e)),n,h):b(e)};for(var C,y=n("9e1e")?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;y.length>x;x++)i(p,C=y[x])&&!i(h,C)&&m(h,C,u(p,C));h.prototype=v,v.constructor=h,n("2aba")(a,f,h)}},d2c8:function(t,e,n){var a=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(a(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d313:function(t,e,n){},da60:function(t,e,n){},e5cf:function(t,e,n){},ee61:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.colseComment}},[n("PostMain",{scopedSlots:t._u([{key:"top",fn:function(){return[n("PostBanner",{attrs:{banner:t.banner,title:t.title,head_img:t.head_img,author:t.author,created_time:t.created_time}})]},proxy:!0},{key:"center",fn:function(){return[n("PostCenter",{attrs:{content:t.content,head_img:t.head_img,author:t.author,view:t.view,comment:t.comment,like_number:t.like_number},on:{userClickZan:t.reqNewData}})]},proxy:!0}])}),n("Comment",{attrs:{isShowRe:t.isShowRe,comment:t.comment},on:{showRe:t.showRe,reqNewData:t.reqNewData}}),n("recommend"),n("Postbottom"),n("goTop",{staticClass:"go-top-component"}),n("PostNav")],1)},i=[],c=(n("ac6a"),n("6762"),n("6b54"),n("9fc0")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-main"},[n("div",{staticClass:"post-main-top"},[t._t("top")],2),n("div",{staticClass:"post-main-center"},[t._t("center")],2)])},r=[],o={name:"PostMain"},l=o,u=(n("059c"),n("2877")),m=Object(u["a"])(l,s,r,!1,null,"157e051e",null),d=m.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center post-banner"},[n("div",{staticClass:"bgbox"}),n("div",{staticClass:"post-banner-content"},[n("img",{staticClass:"post-banner-img",attrs:{src:t.banner}}),n("h2",[t._v(t._s(t.title))]),n("div",{staticClass:"post-banner-info flex-between"},[n("div",{staticClass:"info-left"},[n("img",{attrs:{src:t.head_img}}),n("span",{staticClass:"author"},[t._v(t._s(t.author))])]),n("div",{staticClass:"info-right"},[t._v(t._s(t.created_time))])])])])},h=[],p={name:"PostBanner",props:{banner:{type:String,default:"https://cdn.sspai.com/article/8dc31f25-65eb-f2fc-40bb-25887ffe3d70.jpg?imageMogr2/quality/95/thumbnail/!1420x708r/gravity/Center/crop/1420x708"},title:{type:String,default:"本周看什么：皮克斯新作《1/2 的魔法》预告发布，吕克·贝松新电影《安娜》上映"},head_img:{type:String,default:"https://cdn.sspai.com/2018/11/04/a5ae7198440f04585f4c6df1659aa96b.gif?imageMogr2/quality/95/thumbnail/!64x64r/gravity/Center/crop/64x64"},author:{type:String,default:"一只索狗"},created_time:{type:String,default:"2天前"}}},v=p,g=(n("020b"),Object(u["a"])(v,f,h,!1,null,"f6c72296",null)),_=g.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center post-center"},[n("div",{ref:"postcontent",staticClass:"post-article-content",domProps:{innerHTML:t._s(t.content)}}),n("div",{ref:"postleft",staticClass:"post-center-left flex-column-center"},[n("i",{staticClass:"iconfont icon-chongdian center",class:{like_active:t.likeArt.includes(t.article_id)},on:{click:t.likeArticle}}),n("span",[t._v(t._s(t.like_number))]),n("i",{staticClass:"iconfont icon-liuyan",on:{click:t.toComment}}),n("span",[t._v(t._s(t.comment))]),n("i",{staticClass:"iconfont icon-share"})]),n("div",{staticStyle:{width:"100%",height:"1px","background-color":"#eee","max-width":"750px"}}),n("div",{staticClass:"content-bottom"},[n("div",{staticClass:"info-left"},[n("img",{attrs:{src:t.head_img}}),n("span",{staticClass:"author"},[t._v(t._s(t.author))]),n("span",{staticClass:"attention-btn"},[t._v("关注")])])])])},C=[],y=(n("2fdb"),n("c5f6"),n("336b")),x=n("8442");function S(t){return Object(x["a"])({url:"article",method:"post",data:t})}function w(t){return Object(y["a"])({url:"article/comment/".concat(t)})}function k(t){return Object(x["a"])({url:"article/submitcomment",method:"post",data:t})}function N(t){return Object(x["a"])({url:"article/clickZan",method:"post",data:t})}function I(t){return Object(x["a"])({url:"article/isclickzan",method:"post",data:t})}function j(t){return Object(x["a"])({url:"article/cancleclickzan",method:"post",data:t})}function q(t){return Object(x["a"])({url:"article/articleclickZan",method:"post",data:t})}function E(t){return Object(x["a"])({url:"article/canclearticleclickZan",method:"post",data:t})}function $(t){return Object(x["a"])({url:"article/articleIsClickZ",method:"post",data:t})}var P={name:"PostCenter",props:{content:{type:String,default:"<p>内容</p>"},author:{type:String,default:""},view:{type:Number,default:0},comment:{type:Number,default:0},head_img:{type:String,default:""},like_number:{type:Number,default:0}},data:function(){return{likeArt:[],article_id:0}},created:function(){this.article_id=this.$route.params.id,this.reqArticleUserClickZan()},updated:function(){window.addEventListener("scroll",this.fixedLeft,!1)},methods:{fixedLeft:function(){var t=document.documentElement.clientHeight/2,e=this.$refs.postcontent,n=this.$refs.postleft,a=e.getBoundingClientRect(),i=a.top,c=a.height,s=a.bottom,r=n.getBoundingClientRect().height;t>=i+r/2?(n.style.position="fixed",n.style.top=t-r/2+"px"):t<i+r/2&&(n.style.position="absolute",n.style.top="0px"),c>2*t&&s<=t+r/2&&(n.style.position="absolute",n.style.top=c-r+"px")},toComment:function(){var t=document.querySelector(".post-main").getBoundingClientRect().height,e=document.documentElement,n=document.body,a=setInterval((function(){var i=e.scrollTop||n.scrollTop,c=Math.floor((t-i)/8);e.scrollTop=n.scrollTop=i+c,0==c&&(e.scrollTop=n.scrollTop=t,clearInterval(a))}),5)},likeArticle:function(){var t=this,e=localStorage.getItem("uid");e=e||0,this.likeArt.includes(this.article_id)?E({uid:e,article_id:this.article_id}).then((function(e){console.log(e),t.reqArticleUserClickZan(),t.$emit("userClickZan")})):q({uid:e,article_id:this.article_id}).then((function(e){console.log(e),t.reqArticleUserClickZan(),t.$emit("userClickZan")}))},reqArticleUserClickZan:function(){var t=this,e=localStorage.getItem("uid");e&&(e=e||0,$({uid:e}).then((function(e){console.log(e),t.likeArt=e.data})))}},destroyed:function(){document.documentElement.scrollTop=0,window.removeEventListener("scroll",this.fixedLeft)}},A=P,T=(n("7bf9"),Object(u["a"])(A,b,C,!1,null,"720d341b",null)),L=T.exports,O=n("8bbb"),M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center"},[n("div",{staticClass:"post-rec"},[n("h3",[t._v("推荐阅读")]),n("ul",{staticClass:"recommend-list"},t._l(t.recommentedList,(function(e,a){return n("li",{key:a,on:{click:function(n){return t.toX(e.id)}}},[n("div",{staticClass:"li-list-img"},[n("img",{attrs:{src:e.list_img_src}})]),n("h3",[t._v(t._s(e.title))]),n("div",{staticClass:"article-author-info"},[n("div",{staticClass:"left"},[n("img",{staticClass:"author-header-img",attrs:{src:e.headerImg}}),n("span",{staticClass:"author-username"},[t._v(t._s(e.author))])]),n("div",{staticClass:"right"},[n("span",{staticClass:"article-view"},[n("i",{staticClass:"iconfont icon-like"}),t._v("\n              "+t._s(e.view)+"\n            ")])])])])})),0)])])},R=[],Z={name:"recommend",data:function(){return{recommentedList:[{id:1,title:"Power+ Live 02",created_time:"2月15日",author:"SpencerWoo",view:88,comment:0,list_img_src:"https://cdn.sspai.com/article/d44a82eb-3732-a9d3-4f4b-408fb3f689d7.jpg?imageMogr2/quality/95/thumbnail/!800x400r/gravity/Center/crop/800x400",headerImg:"https://cdn.sspai.com/2019/07/31/avatar/c328e1cae65eb20dde99d811b58d0bd0.jpg"},{id:2,title:"国庆看什么：DC 新片《猛禽小队和哈莉·奎因》正式预告，《我和我的祖国》上映",created_time:"2月15日",author:"SpencerWoo",view:88,comment:0,list_img_src:"https://cdn.sspai.com/article/3156926e-2b92-b834-735b-9edb3daea9c1.jpg?imageMogr2/quality/95/thumbnail/!800x400r/gravity/Center/crop/800x400",headerImg:"https://cdn.sspai.com/2019/07/31/avatar/c328e1cae65eb20dde99d811b58d0bd0.jpg"},{id:3,title:"展示来自用户的最真实的体验和观点",created_time:"2月15日",author:"SpencerWoo",view:88,comment:0,list_img_src:"https://cdn.sspai.com/2019/10/13/a6f195e0291a70e52f8b9966b2519cf1.jpg?imageMogr2/quality/95/thumbnail/!1420x708r/gravity/Center/crop/1420x708",headerImg:"https://cdn.sspai.com/2019/07/31/avatar/c328e1cae65eb20dde99d811b58d0bd0.jpg"},{id:4,title:"除了年年都有的新表盘，一起来看看 watchOS 6 的实用新功能",created_time:"2月15日",author:"SpencerWoo",view:88,comment:0,list_img_src:"https://cdn.sspai.com/article/59491614-e890-9d5c-2b6c-33d4da8b2946.jpg?imageMogr2/quality/95/thumbnail/!800x400r/gravity/Center/crop/800x400",headerImg:"https://cdn.sspai.com/2019/07/31/avatar/c328e1cae65eb20dde99d811b58d0bd0.jpg"},{id:5,title:"如何用 Quicker 优化 Windows 的剪贴板功能 | 实用技巧",created_time:"7月15日",author:"Clyde",view:88,comment:0,list_img_src:"https://cdn.sspai.com/article/b7faf603-977c-87d8-8ea4-170d34293077.jpg?imageMogr2/quality/95/thumbnail/!800x400r/gravity/Center/crop/800x400",headerImg:"https://cdn.sspai.com/2019/08/28/88c5ab085428f7c4bce981810ff073bc.png?imageMogr2/quality/95/thumbnail/!64x64r/gravity/Center/crop/64x64"},{id:6,title:"如何让 Android 10 拥有不输 iOS 的暗色模式体验？",created_time:"2月15日",author:"SpencerWoo",view:18,comment:6,list_img_src:"https://cdn.sspai.com/article/047e3478-08c6-cfab-5ad1-8a945076f431.jpg?imageMogr2/quality/95/thumbnail/!800x400r/gravity/Center/crop/800x400",headerImg:"https://cdn.sspai.com/2019/03/21/6cd415f9bb5ae6efb08c6a63a1b0ba67.jpg?imageMogr2/quality/95/thumbnail/!48x48r/gravity/Center/crop/48x48"}]}},created:function(){this.reqData()},methods:{reqData:function(){},toX:function(t){var e=this.$router.resolve({path:"/post/".concat(t)}),n=e.href;window.open(n,"_blank")}}},D=Z,B=(n("a667"),Object(u["a"])(D,M,R,!1,null,"df610cb4",null)),F=B.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-bottom"},[n("div",{staticClass:"post-bottom-main flex-between"},[n("div",{staticClass:"left"},[t._m(0),n("Blogroll"),n("p",{staticClass:"copyright"},[t._v("© 2013-2019 少数派 | 粤ICP备09128966号-4 | CC BY-NC 4.0")])],1),t._m(1)])])},W=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-logo"},[n("span",{staticClass:"logo-icon"}),n("span",{staticClass:"logo-title"},[t._v("少数派")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right"},[n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("关于我们")]),n("a",{attrs:{href:"javascript:0"}},[t._v("联系我们")])]),n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("成为作者")]),n("a",{attrs:{href:"javascript:0"}},[t._v("常见问题")])]),n("div",{staticClass:"link-box"},[n("a",{attrs:{href:"javascript:0"}},[t._v("用户协议")]),n("a",{attrs:{href:"javascript:0"}},[t._v("客户端")])])])}],H=n("f516"),V={name:"Postbottom",components:{Blogroll:H["a"]}},X=V,Y=(n("2921"),Object(u["a"])(X,U,W,!1,null,"562dadaa",null)),G=Y.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column-center"},[n("div",{staticClass:"comment-comtainer"},[n("div",{staticClass:"comment-title"},[t._v("全部评论（"+t._s(t.comment)+"）")]),n("div",{staticClass:"comment-input"},[t._m(0),n("div",{staticClass:"right"},[t.isShowRe?t._e():n("input",{staticClass:"write-comment",attrs:{type:"text",placeholder:"写下你的评论"},on:{focus:t.writeComment}}),t.isShowRe?n("div",[n("p",{staticClass:"user-name"},[t._v(t._s(t.username))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(e){return t.subComment()}}},[t._v("评论")])])]):t._e()])]),t.isNo?n("div",{staticClass:"no-comment"},[t._v("还没有评论哦！")]):t._e(),n("ul",{staticClass:"comment-ul"},t._l(t.commentList,(function(e,a){return n("div",{key:a,staticClass:"comment-item"},[n("li",{staticClass:"comment-li"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:e.head_img}})]),n("div",{staticClass:"right"},[n("p",{staticClass:"user-name"},[t._v(t._s(e.username))]),n("p",{staticClass:"comment-created-time"},[t._v(t._s(e.createdTime))]),n("p",{staticClass:"comment-content",domProps:{innerHTML:t._s(e.content)}}),n("div",{staticClass:"comment-icon"},[n("i",{staticClass:"iconfont icon-liuyan",on:{click:function(n){return t.showTexterea(e.createdTime)}}}),n("span",{staticClass:"amount"},[t._v(t._s(e.reNumber))]),t.likeList.includes(e.comment_id.toString())?n("i",{staticClass:"iconfont icon-xin",on:{click:function(n){return t.cancleClickZan(e.comment_id)}}}):n("i",{staticClass:"iconfont icon-like",on:{click:function(n){return t.clickZan(e.comment_id)}}}),n("span",{staticClass:"amount"},[t._v(t._s(e.likeNumber))])]),n("div",{staticClass:"texterea-container",attrs:{"data-index":e.createdTime}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(n){return t.subComment(e.comment_id)}}},[t._v("评论")])])]),n("ul",{staticClass:"user-reply"},t._l(e.reComment,(function(a,i){return n("li",{key:i,staticClass:"comment-li"},[n("div",{staticClass:"left"},[n("img",{staticClass:"user-head-img",attrs:{src:a.head_img}})]),n("div",{staticClass:"right"},[n("p",{staticClass:"user-name"},[t._v("\n                    "+t._s(a.username)+"\n                    "),a.re_username?n("span",{staticClass:"reply-username"},[t._v("回复 "+t._s(a.re_username))]):t._e()]),n("p",{staticClass:"comment-created-time"},[t._v(t._s(a.createdTime))]),n("p",{staticClass:"comment-content",domProps:{innerHTML:t._s(a.content)}}),n("div",{staticClass:"comment-icon"},[n("i",{staticClass:"iconfont icon-liuyan",on:{click:function(e){return t.showTexterea(a.createdTime)}}}),n("span",{staticClass:"amount"},[t._v(t._s(a.reNumber))]),t.likeList.includes(a.comment_id.toString())?n("i",{staticClass:"iconfont icon-xin",on:{click:function(e){return t.cancleClickZan(a.comment_id)}}}):n("i",{staticClass:"iconfont icon-like",on:{click:function(e){return t.clickZan(a.comment_id)}}}),n("span",{staticClass:"amount"},[t._v(t._s(a.likeNumber))])]),n("div",{staticClass:"texterea-container",attrs:{"data-index":a.createdTime}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"comment-textarea",attrs:{autofocus:"true"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("div",{staticClass:"write-comment-bottom"},[n("span",{staticClass:"comment-submit",on:{click:function(n){return t.subComment(e.comment_id,a.username,a.comment_id)}}},[t._v("评论")])])])])])})),0)])])])})),0)])])},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left"},[a("img",{staticClass:"user-head-img",attrs:{src:n("20e5")}})])}],Q=(n("a481"),{name:"comment",props:{isShowRe:{type:Boolean,default:!1},comment:{type:Number,default:0}},data:function(){return{username:"",commentList:[],isNo:!0,commentContent:"",likeList:[]}},created:function(){this.reqIsClickZan(),this.reqComment(),this.username=localStorage.getItem("user_name")},methods:{cc:function(){console.log(this.commentContent)},writeComment:function(){this.$emit("showRe",!0);var t=document.querySelectorAll(".texterea-container");t.forEach((function(t){t.style.display="none"}))},reqComment:function(){var t=this,e=this.$route.params.id;w(e).then((function(e){e.data&&(t.isNo=!1),t.commentList=e.data})).catch((function(t){console.log(t)}))},subComment:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this.$emit("showRe",!1),this.commentContent.trim()){var i=this.$route.params.id,c=e,s=localStorage.getItem("uid"),r=n,o=a,l=this.commentContent.replace(/\n|\r\n/g,"<br/>");k({article_id:i,re_comment_id:c,user_id:s,re_username:r,subCommentId:o,content:l}).then((function(e){t.$emit("reqNewData"),t.commentContent="";var n=document.querySelectorAll(".texterea-container");n.forEach((function(t){t.style.display="none"})),t.reqComment()})).catch((function(t){console.log(t)}))}else this.$store.state.toastMsg="不能提交空内容！",this.$store.state.isShowPopup=!0},showTexterea:function(t){var e=document.querySelectorAll(".texterea-container");e.forEach((function(t){t.style.display="none"}));var n=document.querySelector(".texterea-container[data-index='".concat(t,"']"));n.style.display="block"},clickZan:function(t){var e=this,n=localStorage.getItem("uid");if(n){var a=t;N({uid:n,comment_id:a}).then((function(t){t.err||(e.reqIsClickZan(),e.reqComment())}))}else this.$store.state.isShowLogin=!0},reqIsClickZan:function(){var t=this,e=localStorage.getItem("uid");e=e||0,I({uid:e}).then((function(e){t.likeList=e.data,console.log(t.likeList)}))},cancleClickZan:function(t){var e=this,n=localStorage.getItem("uid");n&&(n=n||0,j({uid:n,comment_id:t}).then((function(t){console.log(t),t.err||(e.reqIsClickZan(),e.reqComment())})))}}}),K=Q,tt=(n("f052"),Object(u["a"])(K,z,J,!1,null,"477d87c2",null)),et=tt.exports,nt={name:"Post",props:["id"],components:{PostNav:c["a"],PostMain:d,PostBanner:_,PostCenter:L,goTop:O["a"],recommend:F,Postbottom:G,Comment:et},data:function(){return{isShowRe:!1,banner:"",title:"",head_img:"",author:"",created_time:"",content:"",view:1,comment:1,like_number:1}},created:function(){this.reqArticleData()},methods:{reqArticleData:function(){var t=this,e=this.$route.params.id;S({id:e}).then((function(e){var n=e.data,a=new Date(1e3*n.created_time),i=a.getMonth()+1;1===i.toString().length&&(i="0"+i.toString());var c=a.getDate();1===c.toString().length&&(c="0"+c.toString()),t.created_time="".concat(a.getFullYear(),"-").concat(i,"-").concat(c),t.banner=n.banner_img_src,t.title=n.title,t.head_img=n.headerImg,t.author=n.author,t.content=n.content,t.view=n.view,t.comment=n.comment,t.like_number=n.like_number})).catch((function(t){console.log(t)}))},colseComment:function(t){var e=t.target,n=["comment-input","comment-submit","file-btn","comment-textarea","iconfont icon-liuyan"],a=n.includes(e.className);if(!a){this.isShowRe=!1;var i=document.querySelectorAll(".texterea-container");i.forEach((function(t){t.style.display="none"}))}},showRe:function(t){this.isShowRe=t},reqNewData:function(){this.reqArticleData()}}},at=nt,it=Object(u["a"])(at,a,i,!1,null,"6edc1282",null);e["default"]=it.exports},f052:function(t,e,n){"use strict";var a=n("d313"),i=n.n(a);i.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-c696d8c2.2fd4168e.js.map